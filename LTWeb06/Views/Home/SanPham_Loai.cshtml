@model List<LTWeb06.Models.SanPham>
@{
    ViewBag.Title = "Loại sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<LTWeb06.Models.Loai> dsLoai = ViewBag.DsLoai;
}

<main>
    <div class="container">
        <h2 class="section-title">@ViewBag.TieuDe</h2>
        <!-- Khu vực sản phẩm -->
        <div class="product-detail">
            <!-- Menu loại -->
            <aside class="footer-section" style="flex:0 0 220px;">
                <h3>Sản phẩm theo loại</h3>
                <ul style="list-style:none; padding-left:0;">
                    <li>
                        @Html.ActionLink("Tất cả Sản phẩm", "SanPham_Loai", "Home", new { MaLoai = "" }, new { @class = "card-button" })
                    </li>
                    @if (dsLoai != null)
                    {
                        foreach (var loai in dsLoai)
                        {
                            <li>
                                @Html.ActionLink(loai.TenLoai, "SanPham_Loai", "Home", new { MaLoai = loai.MaLoai }, new { @class = "card-button" })
                            </li>
                        }
                    }
                </ul>
            </aside>

            <!-- Danh sách sản phẩm -->
            <section class="danhsach-sp" style="flex:1;">
                <div class="card-container">
                    @if (Model != null && Model.Count > 0)
                    {
                        foreach (var item in Model)
                        {
                            <div class="card">
                                <div class="card-img-container">
                                    <img src="~/Content/Images/@item.Hinh" alt="@item.TenSP" class="card-img" />
                                </div>
                                <div class="card-content">
                                    <h3 class="card-title">@item.TenSP</h3>
                                    <p class="card-text"><b>Giá:</b> @String.Format("{0:N0} VNĐ", item.DonGia)</p>
                                    @Html.ActionLink("Chi tiết", "ChiTiet_SP", "Home", new { id = item.MaSP }, new { @class = "card-button" })
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <p>Không có sản phẩm nào thuộc loại này.</p>
                    }
                </div>
            </section>
        </div>
    </div>
</main>
