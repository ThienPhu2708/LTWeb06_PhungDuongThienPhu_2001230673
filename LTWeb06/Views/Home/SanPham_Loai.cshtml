@model List<LTWeb06.Models.SanPham>
@{
    ViewBag.Title = "Loại sản phẩm";
    List<LTWeb06.Models.Loai> dsLoai = ViewBag.DsLoai;
}



<style>
    .sanpham-container {
        display: flex;
    }

    .menu-loai {
        width: 200px;
        padding: 15px;
        border-right: 1px solid #ccc;
    }

        .menu-loai ul {
            list-style: none;
            padding: 0;
        }

        .menu-loai li {
            margin-bottom: 10px;
        }

        .menu-loai a {
            text-decoration: none;
            color: #333;
            font-weight: bold;
            display: block;
            padding: 5px;
            border-radius: 3px;
        }

            .menu-loai a:hover {
                background-color: #f0f0f0;
                color: darkblue;
            }

    .danhsach-sp {
        flex-grow: 1;
        padding: 15px;
    }

    .table-sp th, .table-sp td {
        border: 1px solid #ccc;
        padding: 8px;
    }




    .card-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }

    .card {
        width: 220px;
        border: 1px solid #ccc;
        border-radius: 6px;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        transition: transform 0.2s;
        background: #fff;
    }

        .card:hover {
            transform: scale(1.05);
        }

    .card-img {
        width: 100%;
        height: 150px;
        object-fit: cover;
    }

    .card-body {
        padding: 10px;
    }

    .card-title {
        font-size: 16px;
        margin: 0 0 8px;
        color: darkblue;
    }



    .btn-auth {
        display: inline-block;
        padding: 6px 12px;
        margin: 5px 0;
        border: none;
        border-radius: 4px;
        background-color: darkblue;
        color: #fff;
        text-align: center;
        text-decoration: none;
        transition: background-color 0.2s;
    }

        .btn-auth:hover {
            background-color: #004080;
            color: #fff;
        }
</style>

<h2>@ViewBag.TieuDe</h2>


@if (Session["TenKhachHang"] != null)
{
    <p>Xin chào, <b>@Session["TenKhachHang"]</b>!</p>
    <p>@Html.ActionLink("Đăng xuất", "Logout", "Home", null, new { @class = "btn-auth" })</p>
    <p>
        @Html.ActionLink("Lịch sử mua hàng", "LichSu", "Home")
    </p>

}
else
{
    <p>
        @Html.ActionLink("Đăng nhập", "DangNhap", "Home", null, new { @class = "btn-auth" })
        @Html.ActionLink("Đăng ký", "DangKy", "Home", null, new { @class = "btn-auth" })
    </p>
}


<div class="sanpham-container">
    @Html.ActionLink("Tìm kiếm sản phẩm", "TimKiemSanPham", "Home", null, new { @class = "btn-search" })
    <div class="menu-loai">
        <h3>Sản phẩm theo loại</h3>
        <ul>
            @* Link để hiển thị tất cả sản phẩm *@
            <li>
                @Html.ActionLink("Tất cả Sản phẩm", "SanPham_Loai", "Home", new { MaLoai = "" }, new { @class = "btn-all" })
            </li>

            @* Lặp qua danh sách loại để tạo menu *@
            @if (dsLoai != null)
            {
                foreach (var loai in dsLoai)
                {
                    <li>
                        @* Khi click sẽ gọi Action SanPham_Loai với tham số MaLoai *@
                        @Html.ActionLink(loai.TenLoai, "SanPham_Loai", "Home", new { MaLoai = loai.MaLoai }, null)
                    </li>
                }
            }
        </ul>
    </div>


    <div class="danhsach-sp">
        <div class="card-container">
            @if (Model != null && Model.Count > 0)
            {
                foreach (var item in Model)
                {
                    <div class="card">
                        <img src="@item.Hinh" alt="" class="card-img" />
                        <div class="card-body">
                            <h4 class="card-title">@item.TenSP</h4>
                            <p><b>Giá:</b> @item.DonGia</p>
                            @Html.ActionLink("Chi tiết", "ChiTiet_SP", "Home", new { id = item.MaSP }, new { @class = "btn-details" })
                        </div>
                    </div>
                }
            }
            else
            {
                <p>Không có sản phẩm nào thuộc loại này.</p>
            }
        </div>
    </div>
</div>
